В игре есть несколько (пока 2) фракций с непересекающимися наборами юнитов и пересекающимися наборами зданий. Каждый игрок контролирует один город, в котором он может строить здания и создавать армию. Игрок может иметь несколько армий, не более одной в каждой локации. Если в игру играет n игроков, в ней есть n + 1 локация: не граничащие друг с другом города игроков и одна граничащая со всеми городами локация. Игроки воюют друг с другом и пытаются захватить вражеские города.
В начале игрок выбирает фракцию. После этого создаются фабрики юнитов этой фракции, для каждого типа юнитов своя фабрика, которые унаследованны от абстрактного класса фабрика юнитов этой фракции, который унаследован от класса фабрика юнитов. Кроме этого создаются фабрики для зданий, которые являются наследниками абстрактного класса фабрика для зданий этой фракции, который является наследником класса фабрика для зданий.
Фабрика юнитов имеет функцию buy_unit, которая принимает информацию об игроке проверяет, что он может создать юнита (у него достаточно денег и есть все нужные здания) и создаёт юнита с помощью абстрактной функции create_unit, переопределённой у конкретных фабрик. Проверка наличия зданий и денег использует абстрактные функции check_buildings (для проверки зданий) и ask_cost (для получения стоимости юнита), определйнные у конкретных фабрик. Если игрок не может создать юнита, фабрика возвращает ошибку.
Все юниты делятся на 3 типа: воины ближнего боя, стрелки и маги. Все классы юнитов являются наследниками одного из 3 абстрактных классов: Rifleman, Infantry, Magican, которые являются наследниками класса Unit. Фракция никак не влияет на поведение юнита, от неё зависит только то, может ли игрок создать этого юнита, поэтому про расы юнитов знает только фабрика. Объект класса Unit - отряд из юнитов одного вида, задаётся характеристиками и количеством юнитов. В армии может быть не более одного отряда каждого типа. Фабрики создают отряды из 1 юнита. Все здания являются наследниками абстрактного класса Buildings.
При создании/изменении армии создаётся объект класса ArmyBuilder, который имеет методы buy_unit и add_unit, метод buy_unit принимает фабрику юнитов, вызывает её метод, возвращающий юнита и вызывает метод add_unit. Метод add_unit добавляет юнит в армию: создаёт новый отряд если в армии ещё нет войск такого типа или увеличивает на 1 количество войск такого типа.
После создания армии начинается игра. Игроки ходят по очереди. В начале хода игрок получает какое-то количество денег, которое определяется его постройками в замке и контролируемыми территориями. После этого он может построить здания и нанять войска в своём замке. После этого он может передвинуть войска из одной локации в соседнюю локацию (локация n соседняя со всеми, остальные локации не соседние). На этом его ход заканчивается.
Если войска игрока вошли в локацию, занятую другим игроком, происходит битва. В битве отряды ходят поочереди, в порядке определяемом инициативой. В начале хода отряд получает количество очков действия, равное его скорости, когда у отряда остаётся 0 очков действия его ход заканчивается. Перемещение на соседнюю клетку стоит 1 очко действия, атака или использование заклинания (у мага) - все оставшиеся очки действия. Воины ближнего боя могут атаковать врагов только на соседних клетках, лучники и маги - любых врагов.
Маги могут пременять заклинания, у разных магов заклинания разные. Заклинания на какое-то время улучшают характеристики дружественного отряда или ухудшают характеристики вражеского отряда.
Битва заканчивается, когда все отряды одной из сторон уничтожены.
Игрок считается проигравшим, если он потерял свой замок. Игра заканчивается, когда все игроки-люди проиграли или когда все игроки, кроме одного проиграли.
Управление игроками не в битве и отрядами в битве человеком или компьютером реализованно с помощью паттерна strategy. Заклинания в битве реализованны с помощью паттерна decorator.
